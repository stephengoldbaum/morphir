<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Morphir UI</title>
    <script src="insightapp.js"></script>
</head>
<body>
    <div id="app"></div>
</body>
<script>

    //Function to get JSON response from server
    function httpGet(theUrl)
    {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
        xmlHttp.send(null);
        return JSON.parse(xmlHttp.responseText);
    }

    //HTTP GET request to fetch distribution JSON from server
    var distribution = '{"formatVersion":1,"distribution":["library",[["external"],["morphir"]],[],{"modules":[{"name":[["transform"]],"def":["public",{"types":[],"values":[[["main"],["public",{"inputTypes":[[["requests"],["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",41],["startColumn",1],["endLine",50],["endColumn",1]]],["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",41],["startColumn",1],["endLine",50],["endColumn",1]]]],[["available"],["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",41],["startColumn",1],["endLine",50],["endColumn",1]]],["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",41],["startColumn",1],["endLine",50],["endColumn",1]]]],[["allow","partials"],["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["bool"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",41],["startColumn",1],["endLine",50],["endColumn",1]]],["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["bool"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",41],["startColumn",1],["endLine",50],["endColumn",1]]]]],"outputType":["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",41],["startColumn",1],["endLine",50],["endColumn",1]]],"body":["if_then_else",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",43],["startColumn",4],["endLine",43],["endColumn",5]]],["apply",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["bool"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",43],["startColumn",12],["endLine",43],["endColumn",12]]],["apply",["function",{},["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],[]],["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["bool"]],[],[]],[]],["reference",["function",{},["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],[]],["function",{},["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],[]],["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["bool"]],[],[]],[]],[]],[[["morphir"],["s","d","k"]],[["basics"]],["less","than"]]],["literal",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",43],["startColumn",7],["endLine",43],["endColumn",10]]],["float_literal",0.25]]],["apply",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",43],["startColumn",24],["endLine",43],["endColumn",24]]],["apply",["function",{},["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],[]],["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],[]],[]],["reference",["function",{},["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],[]],["function",{},["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],[]],["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],[]],[]],[]],[[["morphir"],["s","d","k"]],[["basics"]],["divide"]]],["variable",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",43],["startColumn",15],["endLine",43],["endColumn",22]]],["requests"]]],["variable",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",43],["startColumn",27],["endLine",43],["endColumn",35]]],["available"]]]],["literal",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["int"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",44],["startColumn",8],["endLine",44],["endColumn",8]]],["int_literal",0]],["if_then_else",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",45],["startColumn",8],["endLine",45],["endColumn",9]]],["apply",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["bool"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",45],["startColumn",21],["endLine",45],["endColumn",21]]],["apply",["function",{},["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],[]],["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["bool"]],[],[]],[]],["reference",["function",{},["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],[]],["function",{},["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],[]],["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["bool"]],[],[]],[]],[]],[[["morphir"],["s","d","k"]],[["basics"]],["less","than"]]],["variable",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",45],["startColumn",12],["endLine",45],["endColumn",19]]],["requests"]]],["variable",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",45],["startColumn",24],["endLine",45],["endColumn",32]]],["available"]]],["variable",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",46],["startColumn",13],["endLine",46],["endColumn",20]]],["requests"]],["if_then_else",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",47],["startColumn",12],["endLine",47],["endColumn",13]]],["variable",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["bool"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",47],["startColumn",16],["endLine",47],["endColumn",28]]],["allow","partials"]],["variable",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["float"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",48],["startColumn",17],["endLine",48],["endColumn",25]]],["available"]],["literal",["reference",{},[[["morphir"],["s","d","k"]],[["basics"]],["int"]],[],["sourceInformation",["source","\/core\/external\/language\/morphir\/tests\/transformAndSerializeTests.pure"],["startLine",49],["startColumn",16],["endLine",49],["endColumn",16]]],["int_literal",0]]]]]}]]]}]}]}]}';

    //ELM integration in JavaScript for interoperability
    var app = Elm.Morphir.Web.Insight.init({
    node : document.getElementById('app'),
    flags : {   distribution : distribution
            ,   config : {  fontSize : 12 , decimalDigit : 2 }
            }
    });

    //Sending Function Name threw port
    app.ports.receiveFunctionName.send("Insight.UseCase1:limitTracking");

    //Sending Arguments List threw port
    var argsList = [10 ,13 ,-16 ,15 ,-10];
    app.ports.receiveFunctionArguments.send(argsList);

</script>
</html>
